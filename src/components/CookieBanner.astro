---

---

<div
  class="fixed bottom-0 left-0 right-0 z-50 bg-black text-white p-4 border-t border-white hidden"
  id="cookie-banner"
>
  <div class="container mx-auto">
    <div
      class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between"
    >
      <div class="flex-1">
        <p class="text-sm leading-relaxed">
            We use essential cookies for website functionality and optional analytics cookies to improve our service. Essential cookies include login and bot protection. Analytics cookies help us track visitor count and device types through Umami, an open-source analytics tool. No data is shared with third parties. <a
            href="/legal/technical-infos"
            class="text-blue-400 hover:underline"
            >Learn more</a
            >.
        </p>
      </div>
      <div class="flex flex-col gap-2 md:flex-row md:gap-3 md:ml-4">
        <button
          id="all"
          class="bg-blue-800 text-white px-4 py-2 rounded-md cursor-pointer text-sm font-medium"
        >
          Use thirst-party tracking / Accept all
        </button>
        <button
          id="none"
          class="bg-blue-800 text-white px-4 py-2 rounded-md cursor-pointer"
        >
          No tracking! / Only essential cookies
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  const acceptAll =
    document.querySelector("#all") || document.getElementById("all");
  const onlyEssential =
    document.querySelector("#none") || document.getElementById("none");

  // If consent already set, remove banner and load Umami if accepted all cookies.
  if (window.localStorage.getItem("cookie-consent") === "all") {
    loadUmami();
    document.getElementById("cookie-banner")?.remove();
  } else if (window.localStorage.getItem("cookie-consent") === "none") {
    document.getElementById("cookie-banner")?.remove();
  } else {
    document.getElementById("cookie-banner")?.classList.remove("hidden");
  }

  // Function to load Umami analytics
  function loadUmami() {
    const script = document.createElement("script");
    script.setAttribute("async", "true");
    script.setAttribute("defer", "true");
    script.setAttribute(
      "data-website-id",
      "eb4ac72d-88b0-4e98-ae45-09d9293b3735"
    );
    script.src = "https://stats.mcds.moe/script.js";
    document.head.appendChild(script);
  }

  acceptAll?.addEventListener("click", () => {
    window.localStorage.setItem("cookie-consent", "all");
    loadUmami();
    document.getElementById("cookie-banner")?.remove();
  });

  onlyEssential?.addEventListener("click", () => {
    window.localStorage.setItem("cookie-consent", "none");
    document.getElementById("cookie-banner")?.remove();
  });
</script>
